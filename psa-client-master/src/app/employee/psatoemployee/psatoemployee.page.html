<ion-content>
    <ion-list>
        <ion-item class="title">
            <ion-label>Verfügbare PSAs</ion-label>
        </ion-item>

        <ion-item size="12" *ngFor="let psa of this.psas; index as i" class="ppe">
            <div *ngIf="this.psas.length == 0">
                <ion-item>
                    Es können keine PSAs zugeordnet werden
                </ion-item>
            </div>

            <ion-item *ngIf="!showDetail[i]" lines="none">
                <ion-grid>
                    <ion-row>
                        <ion-col size="10">
                            <ion-item lines="none" class="heading">
                                <ion-label>
                                    {{psa.pe.name}}
                                </ion-label>
                            </ion-item>
                        </ion-col>
                        <ion-col size="2">
                            <ion-item lines="none">
                                <ion-button slot="end" class="primaryButtonIcon" (click)="changeShowDetails(i)">
                                    <ion-icon src="../../../assets/icon/arrowLeft.svg"></ion-icon>
                                </ion-button>
                            </ion-item>
                        </ion-col>
                    </ion-row>

                    <ion-row>
                        <ion-col size="10">
                            <ion-label>SN-Nummer: {{psa.sn}}</ion-label>
                        </ion-col>
                        <ion-col size="2">
                            <ion-item lines="none">
                                <ion-button slot="end" class="primaryButtonIcon" (click)="assignone(psa)">
                                    <ion-icon src="../../../assets/icon/create.svg"></ion-icon>
                                </ion-button>
                            </ion-item>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </ion-item>

            <ion-item *ngIf="showDetail[i]" lines="none">
                <ion-grid>
                    <ion-row>
                        <ion-col size="10">
                            <ion-item lines="none" class="heading">
                                <ion-label>
                                    {{psa.pe.name}}
                                </ion-label>
                            </ion-item>
                        </ion-col>
                        <ion-col size="2">
                            <ion-item lines="none">
                                <ion-button slot="end" class="primaryButtonIcon ion-float-right"
                                    (click)="changeShowDetails(i)">
                                    <ion-icon src="../../../assets/icon/arrowDown.svg"></ion-icon>
                                </ion-button>
                            </ion-item>
                        </ion-col>
                    </ion-row>

                    <ion-row>
                        <ion-col size="3">
                            <ion-label>SN-Nummer:</ion-label>
                        </ion-col>
                        <ion-col size="7">
                            <ion-label>{{psa.sn}}</ion-label>
                        </ion-col>
                        <ion-col size="2">
                            <ion-item lines="none">
                                <ion-button slot="end" class="primaryButtonIcon" (click)="assignone(psa)">
                                    <ion-icon src="../../../assets/icon/create.svg"></ion-icon>
                                </ion-button>
                            </ion-item>
                        </ion-col>
                    </ion-row>

                    <ion-row>
                        <ion-col size="3">
                            <ion-label>Status:</ion-label>
                        </ion-col>
                        <ion-col size="7">
                            <ion-label size="">
                                {{psa.state}}
                            </ion-label>
                        </ion-col>
                        <ion-col size="2">
                        </ion-col>
                    </ion-row>

                    <ion-row *ngIf="psa.commissioningdate !=null">
                        <ion-col size="3">
                            <ion-label>Datum der Aushändigung:</ion-label>
                        </ion-col>
                        <ion-col size="7">
                            <ion-label>{{psa.commissioningdate}}</ion-label>
                        </ion-col>
                        <ion-col size="2">
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col size="3">
                            <ion-label>Kommentar:</ion-label>
                        </ion-col>
                        <ion-col size="7">
                            <ion-label size="">{{psa.comment}}</ion-label>
                        </ion-col>
                        <ion-col size="2">
                        </ion-col>
                    </ion-row>


                    <ion-row *ngIf="psa.roles != undefined">
                        <ion-col size="3">
                            <ion-label>Rollen:</ion-label>
                        </ion-col>
                        <ion-col size="7">
                            <ion-label *ngFor="let role of psa.roles">
                                {{role.name}}
                            </ion-label>
                        </ion-col>
                        <ion-col size="2">
                        </ion-col>
                    </ion-row>

                    <ion-row *ngIf="psa.size_ranges != null">
                        <ion-col size="3">
                            <ion-label>Größen</ion-label>
                        </ion-col>
                        <ion-col size="7">
                            <ion-label lines="none" *ngFor="let sizerange of psa.size_ranges" class="size">
                                <ion-label>{{sizerange.name}}:</ion-label>
                                <ion-label *ngFor="let size of sizerange.sizes">
                                    {{size.name}}
                                </ion-label>
                            </ion-label>
                        </ion-col>
                        <ion-col size="2">
                        </ion-col>
                    </ion-row>

                </ion-grid>
            </ion-item>
        </ion-item>

    </ion-list>
</ion-content>